<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 165 108" width="465" height="324" version="1.1">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" fill="#800" orient="auto">
      <path d="M 0,0 V 6 L 9,3 Z" />
    </marker>
    <filter id="dropshadow" filterUnits="userSpaceOnUse">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
      <feComponentTransfer>
        <feFuncR type="discrete" tableValues="0.1" />
        <feFuncG type="discrete" tableValues="0.1" />
        <feFuncB type="discrete" tableValues="1" />
      </feComponentTransfer>
      <feMerge> 
        <feMergeNode />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
  </defs>
  <style>
    @import url('https://fonts.googleapis.com/css?family=Lato');
    svg { font-family: Lato, sans-serif }
  </style>
  <g id="chat-server">
    <circle id="chat-server-node" cx="32" cy="52" r="24" fill="#99f" />
    <text x="32" y="40" font-size="7" text-anchor="middle" fill="white">Registry</text>
  </g>
  <g id="chat-client-top">
    <ellipse id="chat-client-top-node" cx="110.5" cy="25" rx="46" ry="22" fill="#99f" />
    <text x="110.5" y="15" font-size="7" text-anchor="middle" fill="white">Node</text>
  </g>
  <g id="chat-client-top-println">
    <circle id="chat-client-top-println-node" cx="90.5" cy="28" r="14" fill="#55f" />
    <text x="90.5" y="30" font-size="6" text-anchor="middle" fill="white">println</text>
  </g>
  <g id="chat-client-bottom">
    <ellipse id="chat-client-bottom-node" cx="110.5" cy="83" rx="46" ry="22" fill="#99f" />
    <text x="110.5" y="73" font-size="7" text-anchor="middle" fill="white">Node</text>
  </g>
  <g id="chat-client-bottom-println">
    <circle id="chat-client-bottom-println-node" cx="90.5" cy="86" r="14" fill="#55f" />
    <text x="90.5" y="88" font-size="6" text-anchor="middle" fill="white">println</text>
  </g>
  <path id="chat-server-client-top" d="M 39.5,45 C 46,35 55,28.5 63,28" stroke="#800" stroke-width="1.5" fill="none" marker-end="url(#arrow)" />
  <path id="chat-server-client-bottom" d="M 31.5,71 C 31,81 55,87 63,86.5" stroke="#800" stroke-width="1.5" fill="none" marker-end="url(#arrow)" />
  <g id="chat-server-message">
    <circle id="chat-server-message-node" cx="32" cy="57" r="14" fill="#55f" />
    <text x="32" y="56" font-size="6" text-anchor="middle" fill="white">public</text>
    <text x="32" y="62" font-size="6" text-anchor="middle" fill="white">Message</text>
  </g>
  <path id="chat-client-bottom-server" d="M 128,72 C 123,55 79,71 58.5,64" stroke="#800" stroke-width="1.5" fill="none" marker-end="url(#arrow)" />
  <path id="chat-client-top-server" d="M 130,42 C 130,53 73,55 59.5,55" stroke="#800" stroke-width="1.5" fill="none" marker-end="url(#arrow)" />
  <g id="chat-client-top-message">
    <circle id="chat-client-top-message-node" cx="130.5" cy="28" r="14" fill="#55f" />
    <text x="130.5" y="30" font-size="6" text-anchor="middle" fill="white">message</text>
  </g>
  <g id="chat-client-bottom-message">
    <circle id="chat-client-bottom-message-node" cx="130.5" cy="86" r="14" fill="#55f" />
    <text x="130.5" y="88" font-size="6" text-anchor="middle" fill="white">message</text>
  </g>
</svg>
